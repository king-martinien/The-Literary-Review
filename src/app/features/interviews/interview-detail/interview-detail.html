<div class="min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300">
    @if (interview) {
    <!-- Immersive Hero Section with Parallax Effect -->
    <div class="relative h-[80vh] w-full overflow-hidden">
        <div #heroImage class="absolute inset-0 w-full h-[120%] -top-[10%]">
            <img [ngSrc]="interview.image" [alt]="interview.interviewee" fill priority class="object-cover">
        </div>
        <div class="absolute inset-0 bg-black/30"></div>

        <div class="absolute bottom-0 left-0 w-full p-6 md:p-12 lg:p-20 text-white z-10">
            <div class="container mx-auto max-w-6xl">
                <a routerLink="/interviews"
                    class="inline-flex items-center space-x-2 text-sm font-bold uppercase tracking-widest mb-8 hover:text-emerald-400 transition-colors text-white">
                    <lucide-icon [img]="ArrowLeft" class="w-4 h-4"></lucide-icon>
                    <span>{{ 'INTERVIEW_DETAIL.BACK_TO_INTERVIEWS' | translate }}</span>
                </a>
                <h1 class="font-serif text-5xl md:text-7xl lg:text-8xl leading-none mb-6">{{ interview.title }}</h1>
                <p class="text-xl md:text-2xl font-light max-w-2xl text-gray-200">{{ interview.excerpt }}</p>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 md:px-6 max-w-6xl py-20">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 relative">

            <!-- Sticky Sidebar (Metadata) -->
            <aside class="lg:col-span-3 lg:sticky lg:top-32 h-fit">
                <div class="space-y-10 border-t border-black dark:border-white pt-6">
                    <div>
                        <h3 class="text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-2">
                            Interviewee</h3>
                        <p class="font-serif text-2xl dark:text-white">{{ interview.interviewee }}</p>
                        <p class="text-sm text-gray-600 dark:text-gray-300">{{ interview.role }}</p>
                    </div>

                    <div>
                        <h3 class="text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-2">
                            Date</h3>
                        <p class="font-serif text-xl dark:text-white">{{ interview.date | date:'longDate' }}</p>
                    </div>

                    <div>
                        <h3 class="text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-2">
                            Topics</h3>
                        <div class="flex flex-wrap gap-2">
                            @for (tag of interview.tags; track tag) {
                            <span
                                class="inline-block bg-gray-100 dark:bg-gray-800 px-3 py-1 text-xs uppercase tracking-wide rounded-full dark:text-gray-300">{{
                                tag }}</span>
                            }
                        </div>
                    </div>

                    <div class="pt-8 border-t border-gray-200 dark:border-gray-800">
                        <p class="text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-4">
                            Share</p>
                        <div class="flex space-x-4">
                            <button
                                class="w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black dark:text-gray-300 transition-colors">
                                <span class="sr-only">Twitter</span>
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                        d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
                                </svg>
                            </button>
                            <button
                                class="w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 flex items-center justify-center hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black dark:text-gray-300 transition-colors">
                                <span class="sr-only">Facebook</span>
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd"
                                        d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                                        clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="lg:col-span-8 lg:col-start-5">
                <div #contentSection
                    class="prose prose-lg dark:prose-invert prose-headings:font-serif prose-p:font-serif prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-a:text-emerald-700 hover:prose-a:text-emerald-900 dark:hover:prose-a:text-emerald-400">
                    <p
                        class="lead text-2xl italic text-gray-500 dark:text-gray-400 mb-12 border-l-4 border-emerald-500 pl-6">
                        "{{ interview.excerpt }}"
                    </p>

                    @if (interview.content) {
                    @for (item of interview.content; track $index) {
                    <div class="mb-16 group">
                        <div class="flex items-start mb-4">
                            <span
                                class="text-xs font-bold uppercase tracking-widest text-emerald-600 mt-1.5 mr-4 shrink-0">L.R.</span>
                            <h3 class="text-xl font-sans font-bold text-black dark:text-white m-0 leading-tight">{{
                                item.question }}
                            </h3>
                        </div>

                        <div class="relative pl-10 md:pl-14">
                            <span
                                class="absolute left-0 top-0 text-6xl text-gray-100 dark:text-gray-800 font-serif -z-10 select-none">â€œ</span>
                            <p class="text-xl leading-relaxed text-gray-800 dark:text-gray-300">{{ item.answer }}</p>
                        </div>
                    </div>
                    }
                    } @else {
                    <div class="py-20 text-center bg-gray-50 dark:bg-gray-800 rounded-lg">
                        <p class="text-gray-500 dark:text-gray-400 italic">Full interview content coming soon.</p>
                    </div>
                    }
                </div>

                <!-- Next Interview Teaser (Mock) -->
                <div class="mt-24 pt-12 border-t border-black dark:border-white">
                    <p class="text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-4">Up Next
                    </p>
                    <a routerLink="/interviews" class="group block">
                        <h3
                            class="font-serif text-4xl group-hover:text-emerald-700 dark:group-hover:text-emerald-400 transition-colors dark:text-white">
                            The Future of
                            Digital Storytelling <span class="text-gray-300 dark:text-gray-600 ml-2">&rarr;</span></h3>
                    </a>
                </div>
            </main>

        </div>
    </div>
    } @else {
    <div
        class="min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
        <h2 class="font-serif text-4xl mb-4 dark:text-white">{{ 'INTERVIEW_DETAIL.NOT_FOUND' | translate }}</h2>
        <a routerLink="/interviews"
            class="text-sm font-bold uppercase tracking-widest border-b border-black dark:border-white pb-1 hover:text-emerald-700 hover:border-emerald-700 dark:hover:text-emerald-400 dark:hover:border-emerald-400 transition-colors dark:text-white">
            {{ 'INTERVIEW_DETAIL.RETURN_HOME' | translate }}
        </a>
    </div>
    }
</div>